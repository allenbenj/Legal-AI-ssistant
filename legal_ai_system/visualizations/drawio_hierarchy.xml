<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="Legal AI System Generator" version="22.1.11" etag="legal-ai-hierarchy">
  <diagram name="Legal AI System Architecture" id="legal-ai-system">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Frontend Layer -->
        <mxCell id="frontend-layer" value="Frontend Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#9b59b6;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="react-frontend" value="enhanced-legal-ai-gui2.tsx&#xa;React 18 + TypeScript&#xa;Zustand State Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7" vertex="1" parent="1">
          <mxGeometry x="80" y="120" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- API Layer -->
        <mxCell id="api-layer" value="API Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f39c12;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="240" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="fastapi-main" value="api/main.py&#xa;FastAPI Server&#xa;REST + GraphQL + WebSocket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fdeaa7" vertex="1" parent="1">
          <mxGeometry x="80" y="320" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="integration-service" value="api/integration_service.py&#xa;Service Integration&#xa;Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fdeaa7" vertex="1" parent="1">
          <mxGeometry x="300" y="320" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- Core Services Layer -->
        <mxCell id="core-layer" value="Core Services Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e74c3c;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="440" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="unified-services" value="unified_services.py&#xa;Service Container&#xa;Dependency Injection&#xa;40+ File Dependencies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8;fontStyle=1;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="80" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="detailed-logging" value="detailed_logging.py&#xa;Foundational Logging&#xa;66 File Dependencies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="260" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="llm-providers" value="llm_providers.py&#xa;Multi-LLM Management&#xa;xAI + OpenAI + Ollama" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8" vertex="1" parent="1">
          <mxGeometry x="440" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="model-switcher" value="model_switcher.py&#xa;Dynamic Model Switching&#xa;Grok 3 Models" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8" vertex="1" parent="1">
          <mxGeometry x="620" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="security-manager" value="security_manager.py&#xa;Security & Auth&#xa;Input Validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8" vertex="1" parent="1">
          <mxGeometry x="800" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="config-manager" value="configuration_manager.py&#xa;Configuration Management&#xa;Environment Variables" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fadbd8" vertex="1" parent="1">
          <mxGeometry x="980" y="520" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- Storage Layer -->
        <mxCell id="storage-layer" value="Storage & Memory Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2ecc71;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="660" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="knowledge-graph" value="knowledge_graph_enhanced.py&#xa;Neo4j Integration&#xa;Entity Relationships" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5f4e6" vertex="1" parent="1">
          <mxGeometry x="80" y="740" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="vector-store" value="vector_store_enhanced.py&#xa;FAISS + LanceDB&#xa;Similarity Search" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5f4e6" vertex="1" parent="1">
          <mxGeometry x="300" y="740" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="memory-manager" value="unified_memory_manager.py&#xa;Session Memory&#xa;Context Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5f4e6" vertex="1" parent="1">
          <mxGeometry x="520" y="740" width="180" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="error-recovery" value="error_recovery.py&#xa;Circuit Breaker&#xa;Fallback Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5f4e6" vertex="1" parent="1">
          <mxGeometry x="740" y="740" width="180" height="80" as="geometry" />
        </mxCell>
        
        <!-- Agent Layer -->
        <mxCell id="agent-layer" value="AI Agent Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#3498db;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="860" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="base-agent" value="base_agent.py&#xa;Base Agent Framework&#xa;15 Agent Inheritance" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="80" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="document-processor" value="document_processor.py&#xa;Document Processing&#xa;PDF/DOCX/TXT/HTML" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1" vertex="1" parent="1">
          <mxGeometry x="260" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="entity-extraction" value="entity_extraction.py&#xa;Legal Entity Extraction&#xa;NER + LLM Hybrid" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1" vertex="1" parent="1">
          <mxGeometry x="440" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="violation-detector" value="violation_detector.py&#xa;Legal Violation Detection&#xa;Brady/Misconduct" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1" vertex="1" parent="1">
          <mxGeometry x="620" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="legal-analysis" value="legal_analysis.py&#xa;Legal Analysis&#xa;Constitutional Review" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1" vertex="1" parent="1">
          <mxGeometry x="800" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="auto-tagging" value="auto_tagging.py&#xa;Learning-based Tagging&#xa;User Behavior Learning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#aed6f1" vertex="1" parent="1">
          <mxGeometry x="980" y="940" width="160" height="80" as="geometry" />
        </mxCell>
        
        <!-- Workflow Layer -->
        <mxCell id="workflow-layer" value="Workflow Orchestration Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8e44ad;fontColor=#ffffff;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="40" y="1060" width="1080" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="ultimate-orchestrator" value="ultimate_orchestrator.py&#xa;Master Workflow Orchestrator&#xa;LangGraph Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d2b4de" vertex="1" parent="1">
          <mxGeometry x="80" y="1140" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="realtime-analysis" value="realtime_analysis_workflow.py&#xa;Real-time Analysis Pipeline&#xa;Document → Graph → Vector" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d2b4de" vertex="1" parent="1">
          <mxGeometry x="320" y="1140" width="200" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="ontology-integration" value="ontology_integration.py&#xa;Ontology Integration&#xa;Legal Domain Knowledge" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d2b4de" vertex="1" parent="1">
          <mxGeometry x="560" y="1140" width="200" height="80" as="geometry" />
        </mxCell>
        
        <!-- Connection Arrows -->
        <!-- Frontend to API -->
        <mxCell id="frontend-to-api" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#e67e22" edge="1" parent="1" source="react-frontend" target="fastapi-main">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- API to Core Services -->
        <mxCell id="api-to-services" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#e67e22" edge="1" parent="1" source="fastapi-main" target="unified-services">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Core Services Internal -->
        <mxCell id="logging-to-services" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#3498db" edge="1" parent="1" source="detailed-logging" target="unified-services">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Services to Storage -->
        <mxCell id="services-to-knowledge" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2ecc71" edge="1" parent="1" source="unified-services" target="knowledge-graph">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="services-to-vector" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2ecc71" edge="1" parent="1" source="unified-services" target="vector-store">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Services to Agents -->
        <mxCell id="services-to-base-agent" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#3498db" edge="1" parent="1" source="unified-services" target="base-agent">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Base Agent to Specialized Agents -->
        <mxCell id="base-to-document" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9b59b6" edge="1" parent="1" source="base-agent" target="document-processor">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="base-to-entity" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9b59b6" edge="1" parent="1" source="base-agent" target="entity-extraction">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="base-to-violation" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#9b59b6" edge="1" parent="1" source="base-agent" target="violation-detector">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Workflows -->
        <mxCell id="orchestrator-to-realtime" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=3;strokeColor=#8e44ad" edge="1" parent="1" source="ultimate-orchestrator" target="realtime-analysis">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- LLM Provider Chain -->
        <mxCell id="llm-to-model-switcher" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#f39c12" edge="1" parent="1" source="llm-providers" target="model-switcher">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>